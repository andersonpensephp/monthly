!function(a){a.fn.Monthly=function(b){var c=a.extend({months:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],topOffset:10,numberOfYears:2},b),d=new Date,e=d.getFullYear(),f=function(b){this._el=a(b),this._renderContainer(),this._bind(),this._resizeHideElement()};return f.prototype={_renderContainer:function(){for(var b=c.numberOfYears,d=['<div class="wrapMonth mHide">'],e=0;b>e;e+=1)d.push('<div class="contentMonths"></div>');d.push("</div>"),a(this._el).addClass("hasMonthly"),0===a(".wrapMonth").length&&(a("body").append(d.join("")),this._renderHeader(),this._renderMonths())},_resizeHideElement:function(){a(window).on("resize",a.proxy(this._hide,this))},_renderHeader:function(){for(var b=c.numberOfYears,d=0;b>d;d+=1)markup=['<div class="mHeader">'],markup.push('<div class="mYear">'+(e+d)+"</div>"),markup.push("</div>"),a(".contentMonths").eq(d).append(markup.join(""))},_renderMonths:function(){var b=['<table border="1" cellspacing="0" cellpadding="0">',"<tr>"];a.each(c.months,function(a,c){a>0&&a%4===0&&(b.push("</tr>"),b.push("<tr>")),b.push('<td><button data-value="'+a+'">'+c+"</button></td>")}),b.push("</tr>"),b.push("</table>"),a(".contentMonths").append(b.join(""))},_bind:function(){a(document).on("click",a.proxy(this._hide,this)),a(this._el).on("click",a.proxy(this._show,this)),a(".contentMonths").find("button").on("click",a.proxy(this._onSelectMonth,this))},_onSelectMonth:function(b){var d=a(b.target),e=d.data("value");month=c.months[e],d.parents(".wrapMonth").find("button").removeClass("monthSelected"),d.addClass("monthSelected"),a(this._el).val(month+", "+d.parents(".contentMonths").find(".mYear").text()).removeClass("bInput")},_show:function(b,d){b.preventDefault(),b.stopPropagation(),a(this._el).blur(),a(this._el).addClass("bInput");var e=a(".wrapMonth"),f=a(this._el).offset(),g=a(window).width(),h=e.width(),i=f.left+h,j=0;i>g&&(j=i-g),e.removeClass("mHide").css({width:2*e.find(".contentMonths").eq(0).width()+5,top:f.top+this._el.outerHeight()+c.topOffset,left:f.left-j})},_hide:function(b){a(this._el).removeClass("bInput"),a(".wrapMonth").addClass("mHide")}},this.each(function(){return new f(this)})}}(jQuery);